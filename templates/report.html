<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–≤—ñ—Ç –ø–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è—Ö</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</head>
<body>
    
    <div id="menuBtn" class="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>
    
    <div id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" id="closeBtn">&times;</a>
        <h2 style="color: white; padding-left: 32px;">–ú–µ–Ω—é</h2>
    
        <a href="{{ url_for('index') }}" class="sidebar-item">
            <img src="/static/img/icons/main-page.png" class="sidebar-icon"> –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
        </a>
    
        <a {% if request.endpoint=='orders' %} class="sidebar-item active-link" {% else %} href="{{ url_for('orders') }}"
            class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/orders.png" class="sidebar-icon"> –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è
        </a>
    
        <a {% if request.endpoint=='customers' %} class="sidebar-item active-link" {% else %}
            href="{{ url_for('customers') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/customers.png" class="sidebar-icon"> –ö–ª—ñ—î–Ω—Ç–∏
        </a>
    
        <a {% if request.endpoint=='products' %} class="sidebar-item active-link" {% else %}
            href="{{ url_for('products') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/products.png" class="sidebar-icon"> –¢–æ–≤–∞—Ä–∏
        </a>
    
        <a {% if request.endpoint=='warehouse' %} class="sidebar-item active-link" {% else %}
            href="{{ url_for('warehouse') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/warehouse.png" class="sidebar-icon"> –°–∫–ª–∞–¥
        </a>
    
        <a {% if request.endpoint=='categories' %} class="sidebar-item active-link" {% else %}
            href="{{ url_for('categories') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/categories.png" class="sidebar-icon"> –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤
        </a>
    
        <a {% if request.endpoint=='suppliers' %} class="sidebar-item active-link" {% else %}
            href="{{ url_for('suppliers') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/suppliers.png" class="sidebar-icon"> –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏
        </a>
    
        <a {% if request.endpoint=='employees' %} class="sidebar-item active-link" {% else %}
            href="{{ url_for('employees') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/employees.png" class="sidebar-icon"> –°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏
        </a>
    
        <a {% if request.endpoint=='report' %} class="sidebar-item active-link" {% else %} 
            href="{{ url_for('report') }}" class="sidebar-item" {% endif %}>
            <img src="/static/img/icons/report.png" class="sidebar-icon"> –ó–≤—ñ—Ç –ø–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è—Ö
        </a>
    </div>

    <div class="container report-page">
            <div class="page-header">
                <h1>–ó–≤—ñ—Ç –ø–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è—Ö</h1>
            </div>


    <div class="table-container card">
        <table class="data-table">
            <thead>
                <tr>
                    <th>–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å</th>
                    <th>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ summary.total_orders }}</td>
                    <td>{{ "%.2f"|format(summary.total_sum) }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="table-container card">
        <table class="data-table">
            <thead>
                <tr>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å</th>
                    <th>–°—É–º–∞</th>
                </tr>
            </thead>
            <tbody>
                {% for row in by_status %}
                <tr>
                    <td>{{ row.status }}</td>
                    <td>{{ row.orders_count }}</td>
                    <td>{{ "%.2f"|format(row.orders_sum) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <br><br>
    
    <!-- üîπ –î—ñ–∞–≥—Ä–∞–º–∞ -->
    <div class="card chart-card">
        <div class="card-header">
            <h2>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å –∑–∞ —Å—Ç–∞—Ç—É—Å–∞–º–∏</h2>
        </div>
        <div class="card-body chart-body">
            <canvas id="ordersChart"></canvas>
        </div>
    </div>
    
    <div id="chartData" data-labels='{{ by_status | map(attribute="status") | list | tojson }}'
        data-values='{{ by_status | map(attribute="orders_count") | list | tojson }}'>
    </div>



</body>
</html>